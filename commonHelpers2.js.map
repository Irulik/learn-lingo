{"version":3,"file":"commonHelpers2.js","sources":["../src/js/firebase/db.js","../src/js/login-popup.js","../src/js/home.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getDatabase, ref, set, get } from 'firebase/database';\r\nimport { firebaseConfig } from './firebaseConfig.js';\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nconst db = getDatabase();\r\n\r\nexport const addData = (data) => {\r\n\tset(ref(db, 'items/'), data);\r\n};\r\n\r\nexport const getData = data => {\r\n\treturn get(ref(db, 'items')).then(snapshot => {\r\n\t\tif (snapshot.exists()) {\r\n\t\t\treturn snapshot.val();\r\n\t\t} else {\r\n\t\t\tthrow new Error('No data available');\r\n\t\t}\r\n\t});\r\n};\r\n","import { logInUser } from './firebase/auth.js';\nimport { favCreator } from './favorites.js';\n\nfunction showLoginPopup() {\n    const logInLinkEl = document.getElementById('logInLink');\n    const logInButtonEl = document.getElementById('logInButton');\n    const loginPopupEl = document.querySelector('.js-login-popup-container');\n    \n    logInLinkEl.addEventListener('click', showLoginPopup);\n    logInButtonEl.addEventListener('click', showLoginPopup);\n    \n    loginPopupEl.classList.add('show');\n    document.body.classList.add('no-scroll');\n}\n\nconst loginPopupEl = document.querySelector('.js-login-popup-container');\nloginPopupEl.addEventListener('click', e => {\n    if (!e.target.classList.contains('js-popup-container')) return;\n    hideLoginPopup();\n});\n\nconst modalCloseBtnLoginEl = document.querySelector('.js-login-popup-container .modal-close-btn');\nmodalCloseBtnLoginEl.addEventListener('click', hideLoginPopup);\n\nfunction hideLoginPopup() {\n    loginPopupEl.classList.remove('show');\n    document.body.classList.remove('no-scroll');\n}\n\n// the log in\nconst loginFormEl = document.querySelector('.popup-login-form');\nloginFormEl.addEventListener('submit', e => {\n    try {\n        e.preventDefault();\n        const { email, password } = Object.fromEntries(new FormData(e.target));\n        logInUser(email, password);\n        console.log(\"success inside\");\n        // Після авторизації можна приховати попап:\n        hideLoginPopup();\n        favCreator();\n    } catch ({ message }) {\n        console.log(message);\n    }\n});\n\nexport { showLoginPopup, hideLoginPopup };","import { registrationUser } from './firebase/auth.js';\r\nimport { addData, getData } from './firebase/db.js';\r\nimport { showLoginPopup, hideLoginPopup } from './login-popup.js';\r\n\r\nimport '../assets/css/home.css';\r\nimport '../assets/css/popup_registation.css';\r\nimport '../assets/css/popup_login.css';\r\n\r\n\r\nconst btnRegEl = document.querySelector('#registrationButton');\r\nconst popupRegEl = document.querySelector('.js-popup-container');\r\nconst modalCloseBtnEl = document.querySelector('.modal-close-btn');\r\nconst formEl = document.querySelector('.popup-reg-form');\r\n\r\nconst logInButtonEl = document.getElementById('logInButton');\r\nlogInButtonEl.addEventListener('click', showLoginPopup);\r\n\r\nbtnRegEl.addEventListener('click', () => {\r\n\tpopupRegEl.classList.add('show');\r\n\tdocument.body.classList.add('no-scroll');\r\n});\r\n\r\npopupRegEl.addEventListener('click', e => {\r\n\tif (!e.target.classList.contains('js-popup-container')) return;\r\n\thideModal();\r\n});\r\n\r\nmodalCloseBtnEl.addEventListener('click', e => {\r\n\thideModal();\r\n});\r\n\r\nfunction hideModal() {\r\n\tpopupRegEl.classList.remove('show');\r\n\tdocument.body.classList.remove('no-scroll');\r\n}\r\n\r\nformEl.addEventListener('submit', e => {\r\n\ttry {\r\n\t\te.preventDefault();\r\n\t\tconst { name, email, password } = Object.fromEntries(\r\n\t\t\tnew FormData(e.target)\r\n\t\t);\r\n\t\tregistrationUser(email, password);\r\n\t\taddData({ name, email, password });\r\n\t\thideModal();\r\n\t} catch ({ message }) {\r\n\t\tconsole.log(message);\r\n\t}\r\n});\r\n\r\ngetData()\r\n\t.then(r => {\r\n\t\tconsole.log(Object.values(r));\r\n\t})\r\n\t.catch(e => {\r\n\t\tconsole.log(e);\r\n\t});\r\n\t\r\n// show favEl in case logged in on page opening\r\nimport { favCreator } from './favorites.js';\r\nfavCreator(); "],"names":["initializeApp","firebaseConfig","db","getDatabase","addData","data","set","ref","getData","get","snapshot","showLoginPopup","logInLinkEl","logInButtonEl","loginPopupEl","hideLoginPopup","modalCloseBtnLoginEl","loginFormEl","email","password","logInUser","favCreator","message","btnRegEl","popupRegEl","modalCloseBtnEl","formEl","hideModal","name","registrationUser","r"],"mappings":"0LAIYA,EAAcC,CAAc,EAExC,MAAMC,EAAKC,EAAW,EAETC,EAAWC,GAAS,CAChCC,EAAIC,EAAIL,EAAI,QAAQ,EAAGG,CAAI,CAC5B,EAEaG,EAAUH,GACfI,EAAIF,EAAIL,EAAI,OAAO,CAAC,EAAE,KAAKQ,GAAY,CAC7C,GAAIA,EAAS,SACZ,OAAOA,EAAS,MAEhB,MAAM,IAAI,MAAM,mBAAmB,CAEtC,CAAE,EChBF,SAASC,GAAiB,CACtB,MAAMC,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAgB,SAAS,eAAe,aAAa,EACrDC,EAAe,SAAS,cAAc,2BAA2B,EAEvEF,EAAY,iBAAiB,QAASD,CAAc,EACpDE,EAAc,iBAAiB,QAASF,CAAc,EAEtDG,EAAa,UAAU,IAAI,MAAM,EACjC,SAAS,KAAK,UAAU,IAAI,WAAW,CAC3C,CAEA,MAAMA,EAAe,SAAS,cAAc,2BAA2B,EACvEA,EAAa,iBAAiB,QAAS,GAAK,CACnC,EAAE,OAAO,UAAU,SAAS,oBAAoB,GACrDC,GACJ,CAAC,EAED,MAAMC,EAAuB,SAAS,cAAc,4CAA4C,EAChGA,EAAqB,iBAAiB,QAASD,CAAc,EAE7D,SAASA,GAAiB,CACtBD,EAAa,UAAU,OAAO,MAAM,EACpC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC9C,CAGA,MAAMG,EAAc,SAAS,cAAc,mBAAmB,EAC9DA,EAAY,iBAAiB,SAAU,GAAK,CACxC,GAAI,CACA,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAC,EAAO,SAAAC,CAAQ,EAAK,OAAO,YAAY,IAAI,SAAS,EAAE,MAAM,CAAC,EACrEC,EAAUF,EAAOC,CAAQ,EACzB,QAAQ,IAAI,gBAAgB,EAE5BJ,IACAM,GACR,OAAa,CAAE,QAAAC,GAAT,CACE,QAAQ,IAAIA,CAAO,CACtB,CACL,CAAC,EClCD,MAAMC,EAAW,SAAS,cAAc,qBAAqB,EACvDC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAkB,SAAS,cAAc,kBAAkB,EAC3DC,EAAS,SAAS,cAAc,iBAAiB,EAEjDb,EAAgB,SAAS,eAAe,aAAa,EAC3DA,EAAc,iBAAiB,QAASF,CAAc,EAEtDY,EAAS,iBAAiB,QAAS,IAAM,CACxCC,EAAW,UAAU,IAAI,MAAM,EAC/B,SAAS,KAAK,UAAU,IAAI,WAAW,CACxC,CAAC,EAEDA,EAAW,iBAAiB,QAAS,GAAK,CACpC,EAAE,OAAO,UAAU,SAAS,oBAAoB,GACrDG,GACD,CAAC,EAEDF,EAAgB,iBAAiB,QAAS,GAAK,CAC9CE,GACD,CAAC,EAED,SAASA,GAAY,CACpBH,EAAW,UAAU,OAAO,MAAM,EAClC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC3C,CAEAE,EAAO,iBAAiB,SAAU,GAAK,CACtC,GAAI,CACH,EAAE,eAAc,EAChB,KAAM,CAAE,KAAAE,EAAM,MAAAV,EAAO,SAAAC,CAAU,EAAG,OAAO,YACxC,IAAI,SAAS,EAAE,MAAM,CACxB,EACEU,EAAiBX,EAAOC,CAAQ,EAChCf,EAAQ,CAAE,KAAAwB,EAAM,MAAAV,EAAO,SAAAC,CAAU,CAAA,EACjCQ,GACF,OAAU,CAAE,QAAAL,GAAT,CACD,QAAQ,IAAIA,CAAO,CACnB,CACF,CAAC,EAEDd,EAAS,EACP,KAAKsB,GAAK,CACV,QAAQ,IAAI,OAAO,OAAOA,CAAC,CAAC,CAC9B,CAAE,EACA,MAAM,GAAK,CACX,QAAQ,IAAI,CAAC,CACf,CAAE,EAIFT,EAAY"}